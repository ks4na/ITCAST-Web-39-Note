# js 判断输入的字符串是否为数字

## 使用 isNaN 判断字符串是否为数字

```js
function isNumber(str) {
  if (str.trim()) {
    return !isNaN(str)
  }
  return false
}

isNumber('') // false
isNumber(' ') // false
isNumber('1.23') // true
isNumber('-1.23') // true
isNumber('1e-2') // true
```

> 注意:
>
> 1. `isNaN()` 表示是否不是数字（not a number）；
> 2. 使用 `isNaN()` 方法需要先要对字符串进行 `trim()` 操作再判断不是空字符串 (`''`), 因为 `isNaN()` 方法对于空字符串和空白字符串返回 `false`：
>
>    ```js
>    !isNaN('') // true
>    !isNaN(' ') // true
>    ```

## 使用正则表达式判断字符串是否为数字

使用正则表达式可以更加细粒度的控制字符串是否为数字（整数，正整数，负整数，非负整数，浮点数，小数位数控制等）。

### 字符串只能包含数字

```js
const reg = /^\d+$/

reg.test('') // false
reg.test('123') // true
```

注意，这个正则表达式只对每一位进行限制为数字，而不管是否以 `0` 开头：

```js
// 对于有前导 0的字符串也返回true
reg.test('01') // true
```

### 整数

```js
// 全部整数（0， 正整数， 负整数），不包含 -0
const reg = /^(0|(\-)?[1-9]\d*)$/

// 正整数
const reg = /^[1-9]\d*$/
// 负整数
const reg = /^\-[1-9]\d*$/

// 非负整数（正整数 或 0）
const reg = /^(0|[1-9]\d*)$/
// 非正整数（负整数 或 0）
const reg = /^(0|\-[1-9]\d*)$/
```

### 浮点数

```js
// 全部浮点数
const reg = /^((0|(\-)?([1-9]\d*))(\.\d+)?|\-0.\d+)$/
// 全部浮点数,且不允许出现 ±0.0, ±0.00 等类似的 =0 的浮点数
const reg = /^((\-)?([1-9]\d*)(\.\d+)?|(\-)?0.\d*[1-9]|0)$/

// 正浮点数
const reg = /^([1-9]\d*(\.\d+)?|0\.\d+)$/
// 正浮点数,且不允许出现 0.0, 0.00 等类似的 =0 的浮点数
const reg = /^([1-9]\d*(\.\d+)?|0\.\d*[1-9])$/

// 负浮点数
const reg = /^(\-[1-9]\d*(\.\d+)?|\-0\.\d+)$/
// 负浮点数,且不允许出现 0.0, 0.00 等类似的 =0 的浮点数
const reg = /^(\-[1-9]\d*(\.\d+)?|\-0\.\d*[1-9])$/
```
